<app-indexnavbar></app-indexnavbar>
<div class="container">
  <h1 style="font-weight: bolder;">Checkout Details for {{cart?.user?.firstName}} {{cart?.user?.lastName}}</h1>
  <div>
    <table id="cart" class="table table-hover table-container">
      <thead>
        <tr>
          <th style="width: 50%">Product</th>
          <th style="width: 10%">Price</th>
          <th style="width: 8%">Quantity</th>
          <th style="width: 22%" class="text-center">Total</th>
          <th style="width: 10%"></th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let item of items">
          <tr>
            <td data-th="Product">
              <div class="row">
                <div class="col-sm-2 hidden-xs">
                  <img [src]="item.bookImage" class="img-responsive"/>
                </div>
                <div class="col-sm-10">
               <strong><h4 class="nomargin" style="font-weight: bolder; color: gray;text-align: center;" >{{ item.bookName }}</h4></strong>
                  <!-- <p style="word-break: break-all; white-space: normal; font-weight: 520; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 32px;"  >{{p.books.synopsis}}</p> -->
                </div>
              </div>
            </td>
            <td data-th="Price">${{ item.bookPrice.toFixed(2) }}</td>
            <!-- <div *ngIf="p.books.saleisActive === true">
              <h3>Sales Price: <span id="price">${{ (p.books.bookPrice - (p.books.bookPrice * p.books.saleDiscountRate)) | number:'1.2-2' }}</span></h3>
            </div> -->
            <td data-th="Quantity" style="display:flex; align-items: center;"> 
              
              <!-- {{ item.quantityToBuy }} -->
            
          
              <button (click)="subQuantity(item.bookId, item.bookName, item.quantityToBuy, item.bookPrice, item.author, item.bookImage, item.quantityOnHand)" type="button"><i class="fa fa-minus"></i></button>
                <p style=" margin-top: .5em; margin-left: .5em; margin-right: .5em; ">{{item.quantityToBuy}}</p>
              <button  (click)="addQuantity(item.bookId, item.bookName, item.quantityToBuy, item.bookPrice, item.author, item.bookImage, item.quantityOnHand)" type="button"><i class="fa fa-plus"></i></button>
   
            </td>
            
            <td data-th="Total" class="text-center">${{ (item.quantityToBuy * item.bookPrice).toFixed(2) }}</td>
            <td class="actions" data-th="">
              <!-- <button class="btn btn-info btn-sm" (click)="refreshPage()" ><i class="fa fa-refresh"></i></button> -->
              <button class="btn btn-danger btn-sm" (click)="onDeleteButtonClick(item.bookId)"><i class="fa fa-trash-o"></i></button>
            </td>

          </tr>
        </ng-container>

      </tbody>
      <tfoot>
        <tr class="visible-xs">
          <td class="text-center"><strong></strong></td>
        </tr>
        <tr>
          <td>
            <a routerLink="/home" class="btn btn-warning">
              <i class="fa fa-angle-left"></i> Continue Shopping</a>
          </td>
          <td colspan="2" class="hidden-xs"></td>
          <td class="hidden-xs text-center">
            <strong>Total ${{calculateTotalPrice()}}</strong>
          </td>
          <td>
            <a routerLink="/checkout" class="btn btn-success btn-block"> Checkout <i class="fa fa-angle-right"></i></a>
          </td>
        </tr>
      </tfoot>

    </table>
  </div>
</div>
